<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>红烧鱼</title>
<style>
@import url('https://fonts.googleapis.com/css?family=Cookie');

body {
    /* 更改为渐变背景，使用更温暖的圣诞节配色 */
    background: linear-gradient(135deg, #d42c2c 0%, #8b0000 100%);
    width: 100%;
    font-family: 'Cookie', cursive;
    overflow: hidden;
}

.container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    flex-direction: column;
    position: relative;
}

/* 修改圣诞树样式，使用伪元素作为背景 */
.container::before {
    content: "🎄";
    font-size: 85vh;
    position: absolute;
    z-index: 1;
    opacity: 0.8;
    text-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
    pointer-events: none; /* 禁止鼠标事件 */
    user-select: none; /* 禁止选择 */
}

#days {
    font-size: 80px;
    color: #FFF;
    text-align: center;
    letter-spacing: 3px;
    position: relative;
    z-index: 2;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                 0 0 40px rgba(255, 255, 255, 0.6),
                 0 0 60px rgba(255, 255, 255, 0.4);
    animation: glow 2s ease-in-out infinite alternate;
}

.drop {
    position: absolute;
    top: 0;    
    z-index: -1;
    opacity: 0;
}

.snow {
    height: 6px; /* 调整雪花大小 */
    width: 6px;
    border-radius: 100%;
    background-color: #FFF;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8); /* 增强雪花发光效果 */
}

.animate {
    animation: falling 12s infinite ease-in; /* 延长雪花飘落时间 */
}

@keyframes falling {
    0% {
        top: -10%;
        opacity: 1;
        transform: translateX(0);
    }
    50% {
        transform: translateX(20px); /* 添加横向飘动 */
    }
    100% {
        top: 100%;
        opacity: 0;
        transform: translateX(-20px);
    }
}

@keyframes glow {
    from {
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                     0 0 40px rgba(255, 255, 255, 0.6),
                     0 0 60px rgba(255, 255, 255, 0.4);
    }
    to {
        text-shadow: 0 0 30px rgba(255, 255, 255, 0.9),
                     0 0 50px rgba(255, 255, 255, 0.7),
                     0 0 70px rgba(255, 255, 255, 0.5);
    }
}
</style>
</head>
<body>
    <div class="container"> 
        <p id="days"></p>
    </div>
  
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
    <script>
    const myDate = new Date();
    const xmas = new Date(myDate.getFullYear(), 11, 25); // 11代表12月（0-11）
    const today = new Date();

    const daysToChristmas = Math.ceil((xmas - today) / (1000 * 60 * 60 * 24));

    if (daysToChristmas === 0) $("#days").text("Merry Christmas!");
    if (daysToChristmas < 0) $("#days").text(Math.abs(daysToChristmas) + " Days Since Christmas");
    if (daysToChristmas > 0) $("#days").text(daysToChristmas + " Days Until Christmas");

    // 如果是平安夜（12月24日），显示特殊消息
    if (myDate.getMonth() === 11 && myDate.getDate() === 24) {
        $("#days").text("Christmas Eve! Santa is Coming!");
    }

    // 增加雪花数量和降低生成速度
    snowDrop(200, randomInt(1035, 1280));
    snow(200, 100);

    function snow(num, speed) {
        if (num > 0) {
            setTimeout(function() {
                $("#drop_" + randomInt(1, 300)).addClass("animate");
                num--;
                snow(num, speed);
            }, speed);
        }
    }

    function snowDrop(num, position) {
        if (num > 0) {
            var drop = '<div class="drop snow" id="drop_' + num + '"></div>';
            $("body").append(drop);
            $("#drop_" + num).css("left", position);
            num--;
            snowDrop(num, randomInt(60, 1280));
        }
    }

    function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    }
    </script>
</body>
</html>